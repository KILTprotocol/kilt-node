<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Create a new delegation node."><title>add_delegation in delegation::pallet::dispatchables - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="delegation" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0 (79e9716c9 2023-11-13)" data-channel="1.74.0" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../delegation/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../../../delegation/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><div class="sidebar-elems"><h2><a href="index.html">In delegation::pallet::dispatchables</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../../index.html">delegation</a>::<wbr><a href="../index.html">pallet</a>::<wbr><a href="index.html">dispatchables</a>::<wbr><a class="fn" href="#">add_delegation</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/delegation/lib.rs.html#90">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub fn add_delegation&lt;T: <a class="trait" href="../trait.Config.html" title="trait delegation::pallet::Config">Config</a>&gt;(
    delegation_id: <a class="type" href="../type.DelegationNodeIdOf.html" title="type delegation::pallet::DelegationNodeIdOf">DelegationNodeIdOf</a>&lt;T&gt;,
    parent_id: <a class="type" href="../type.DelegationNodeIdOf.html" title="type delegation::pallet::DelegationNodeIdOf">DelegationNodeIdOf</a>&lt;T&gt;,
    delegate: <a class="type" href="../type.DelegatorIdOf.html" title="type delegation::pallet::DelegatorIdOf">DelegatorIdOf</a>&lt;T&gt;,
    permissions: <a class="struct" href="../../delegation_hierarchy/struct.Permissions.html" title="struct delegation::delegation_hierarchy::Permissions">Permissions</a>,
    delegate_signature: <a class="type" href="../type.DelegateSignatureTypeOf.html" title="type delegation::pallet::DelegateSignatureTypeOf">DelegateSignatureTypeOf</a>&lt;T&gt;
)</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Create a new delegation node.</p>
<p>The new delegation node represents a new trust hierarchy that
considers the new node as its root. The owner of this node has full
control over any of its direct and indirect descendants.</p>
<p>For the creation to succeed, the delegatee must provide a valid
signature over the (blake256) hash of the creation operation details
which include (in order) delegation id, root node id, parent id, and
permissions of the new node.</p>
<p>There must be no delegation with the same id stored on chain.
Furthermore, the referenced root and parent nodes must already be
present on chain and contain the valid permissions and revocation
status (i.e., not revoked).</p>
<p>The dispatch origin must be split into</p>
<ul>
<li>a submitter of type <code>AccountId</code> who is responsible for paying the
transaction fee and</li>
<li>a DID subject of type <code>DelegationEntityId</code> who creates, owns and
can revoke the delegation.</li>
</ul>
<p>Requires the sender of the transaction to have a reservable balance
of at least <code>Deposit</code> many tokens.</p>
<p>Emits <code>DelegationCreated</code>.</p>
<h2 id=""><a href="#"><weight></a></h2>
<p>Weight: O(1)</p>
<ul>
<li>Reads: [Origin Account], Roots, Delegations</li>
<li>Writes: Delegations</li>
</ul>
<h2 id="-1"><a href="#-1"></weight></a></h2><h2 id="warning-doc-only"><a href="#warning-doc-only">Warning: Doc-Only</a></h2>
<p>This function is an automatically generated, and is doc-only, uncallable
stub. See the real version in
<a href="../struct.Pallet.html#method.add_delegation" title="associated function delegation::pallet::Pallet::add_delegation"><code>Pallet::add_delegation</code></a>.</p>
</div></details></section></div></main></body></html>