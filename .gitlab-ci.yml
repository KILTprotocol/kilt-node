default:
  interruptible: true
include:
  - local: '.gitlab/check.yml'
  - local: '.gitlab/test.yml'
  - local: '.gitlab/build.yml'

variables:
  CARGO_HOME: $CI_PROJECT_DIR/.cargo
  CARGO_TARGET_DIR: $CI_PROJECT_DIR/target

workflow:
  auto_cancel:
    on_new_commit: interruptible

stages:
  - check
  - test
  - build
