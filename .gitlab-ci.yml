default:
  interruptible: true
include:
  - local: '.gitlab/check.yml'
  - local: '.gitlab/test.yml'
  - local: '.gitlab/build_docker_img.yml'

variables:
  CARGO_CACHE_PATH: $CARGO_CACHE_PATH
  CARGO_HOME: ${CI_PROJECT_DIR}/.cargo

workflow:
  auto_cancel:
    on_new_commit: interruptible

stages:
  - check
  - test
  - build
